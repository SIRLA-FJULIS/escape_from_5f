
<!DOCTYPE html>
<html>
<head>
	<title>系辦</title>
	<meta charset="utf-8">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://unpkg.com/jquery.terminal/js/jquery.terminal.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/jquery.terminal/css/jquery.terminal.min.css"/>
	<script src=".\js\session.js"></script>
</head>
<body>
<script>
		var key = Session.get('key');
		var text = '\n-----------------------------------------' +
			'\n走到系辦門口，想試著推開，卻發現大門被鎖了起來' +
			'\n拿手機一照發現門口上似乎用了特殊的墨水，用光照射才會顯示文字' +
			'\n「回想當初，這是你的起點。」' +
			'\n-----------------------------------------'
		if(key == true){
			text = 
			'\n-----------------------------------------' +
			'\n用找到的鑰匙打開了大門後，你走了進去' +
			'\n-----------------------------------------'
		}
	
//------------DEMO------------------------------

		$('body').terminal(
		{
    		show: function(arg) {
    			this.echo('\n-----------------------------------');
    		
    			if(arg === 'look'){
    				look_menu.forEach(i => this.echo(i));
    			}
    			else if(arg === 'move'){
    				move_menu.forEach(i => this.echo(i));
    			}else if(arg === 'act'){
    				act_menu.forEach(i => this.echo(i));
    			}
    			else{
    				show_menu.forEach(i => this.echo(i));
    				this.echo(
    					'請以 「show X」的格式去查看各項動作更多的選項'
					);
				}
				this.echo('\n-----------------------------------');
    		},

    		move: function(arg) {
				if (arg == 1){
					document.location.href="../Y29ycmlkb3JfaWk=/"; 
    				}
				else {
    				this.echo(
						"\n-----------------------------------------" +
						"\n沒有該動作。" +
						'\n-----------------------------------------' );
    			}
    		},

    		act: function(arg) {
    			if (arg == 1){
	    			if (flag_look == 'True'){
	    				this.echo("\n-----------------------------------------" +
	    					"\n靠近辦公桌，發現電腦上似乎正開著網頁。" +
	    					"\n題目網址放置處" +
	    					"\n此時你的手機一震。" +
	    					"\n「What is your answer?」。" +
	    					'\n-----------------------------------------'
	    					);
	    			}
	    		}else{
	    			this.echo(
						"\n-----------------------------------------" +
						"\n目前沒有什麼動作可以進行。" +
						"\n-----------------------------------------" );
	    		}
    		},

    		look: function(arg) {
    			if (arg == 1){
    				this.echo("\n-----------------------------------------" +
						"\n光往前一照，突然發現在辦公桌後方有著類似人的形狀，讓你嚇了一跳。" +
						"\n仔細一看…那是兩個用紙做的人形，呈現一種正襟危坐的樣子放在椅子上" +
						"\n原本應該是五官的部分分別寫著「童」、「靜」" +
						"\n「這是誰的惡作劇？」你不免皺眉思考" +
						'\n-----------------------------------------');
    				flag_look = 'True';
    			}else{
    				this.echo(
						"\n-----------------------------------------" +
						"\n沒有該動作。" +
						'\n-----------------------------------------' );
    			}    			
    		},
    	},	
		{
    		greetings:
				text
		}
		);
		
		//-------------------data-------------------------//
		var show_menu = [
			"[act]  進行動作",
			"[look] 觀察當前場所", 
			"[move] 移動到別的場景"
			];

		var move_menu = [
			"[1] 走廊 II",
		];

		var act_menu = [
			"目前沒有什麼動作可以執行。"
		];

		var look_menu = [
			"[1] 環視四周。"
		];

		var flag_look = 'False';
	</script>
</body>
</html>